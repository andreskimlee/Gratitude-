{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","width","height","svg","simulation","radiusScale","d3","range","Math","PI","select","append","attr","forceSimulation","force","forceX","strength","forceY","forceCollide","formatted","Monthly","replace","Number","scaleSqrt","domain","queue","defer","csv","await","error","datapoints","ticked","selectAll","x","y","data","enter","style","on","html","Country","remove","nodes","input","document","getElementsByClassName","percentRank","array","forEach","country","push","L","S","N","length","pct","floor","addEventListener","event","keyCode","preventDefault","restart","text","console","log","alphaTarget"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","import './styles/index.scss';\nimport income from \"../income\"\n\n(function() {\n  var width = 1500;\n  var height = 765;\n  var angles = d3.range(0, 2 * Math.PI, Math.PI / 200);\n\n  var svg = d3.select(\"body\") \n    .append(\"svg\")\n    .attr(\"height\", height)\n    .attr(\"width\", width)\n    .append(\"g\")\n    .attr(\"transform\", \"translate(0,0)\")\n  \n\n  var simulation = d3.forceSimulation() \n    .force(\"x\", d3.forceX(width/2).strength(0.05)) \n    .force(\"y\", d3.forceY(height/2).strength(0.05)) \n    .force(\"collide\", d3.forceCollide(function(d) { \n      var formatted = ((d.Monthly.replace(\"$\", \"\"))) \n      formatted = Number((formatted.replace(\",\", \"\")))\n      return radiusScale(formatted/14); \n    }))\n\n    \n    \n  var radiusScale = d3.scaleSqrt().domain([3,1500]).range([10,90]) // domain refers to thousands (dollars) \n\n  d3.queue()\n    .defer(d3.csv, \"income.csv\")\n    .await(ready) \n  \n\n  function ready (error, datapoints) {\n     \n        svg.selectAll(\".country\").data(datapoints)\n        .enter()\n        .append(\"circle\")\n        .attr(\"class\", \"countries\")\n        .attr(\"r\", function(d) {\n          var formatted = ((d.Monthly.replace(\"$\", \"\"))) \n          formatted = Number((formatted.replace(\",\", \"\")))\n              return radiusScale(formatted/20); \n        }) \n        .attr(\"fill\", \"black\")\n        .style(\"opacity\", .3) \n        .on(\"mouseover\", function(d){\n          d3.select(\"body\").append(\"text\")\n          .html(`${d.Country} <br> $${d.Monthly}`).attr(\"class\", \"country-text\")\n         })\n         .on(\"mouseout\", function(d){\n          d3.select(\".country-text\").remove()\n         })\n        \n        \n        \n        simulation.nodes(datapoints) \n          .on('tick', ticked)\n       \n\n\n        function ticked() { //magic boilerplate.... \n          svg.selectAll('.countries')\n            .attr(\"cx\", function(d) {\n             \n              return d.x\n            })\n            .attr(\"cy\", function(d) {\n            \n              return d.y \n            } )\n        }\n\n        \n\n\n\n        var forceX = d3.forceX(function(d) {\n          var formatted = ((d.Monthly.replace(\"$\", \"\"))) \n          formatted = Number((formatted.replace(\",\", \"\")))\n         \n          if (formatted < input[0].value) {\n              return 1000 \n          } else {\n            return 500\n          } \n        })\n\n        d3.select(\".combine-button\")\n          .on(\"click\", function(d) { \n            simulation.force(\"x\", d3.forceX(width/2).strength(.05)) \n            simulation.force(\"y\", d3.forceY(height/2).strength(.05)) \n          })\n\n          d3.select(\".title\")\n          .on(\"click\", function(d) {\n            simulation.force(\"x\", d3.forceX(width/2).strength(1)) \n            simulation.force(\"y\", d3.forceY(height/2).strength(1)) \n          })\n\n\n\n        var input = document.getElementsByClassName(\"input-field\");\n        input[0].addEventListener(\"keyup\", function(event) {\n          if (event.keyCode === 13) {\n            event.preventDefault();\n            datapoints.push({Country: \"user\", Monthly: `${input[0].value}`})\n             svg.selectAll(\".countries\")\n             .data(datapoints)\n             .enter()\n             .append(\"circle\")\n             .attr(\"class\", `countries`)\n             .attr(\"r\", function(d) {\n               var formatted = ((d.Monthly.replace(\"$\", \"\"))) \n               formatted = Number((formatted.replace(\",\", \"\")))\n                   return radiusScale(formatted/20);       \n             }) \n             .attr(\"fill\", function(d) {\n               if (d.Country === \"user\") {\n                 return \"white\" \n               } else {\n                 return \"black\" \n               }\n             })\n             .style(\"opacity\", .3) \n            simulation.nodes(datapoints) \n              .on('tick', ticked)\n            simulation.restart(); \n            generateLessGreaterText() //not important\n            simulation.force(\"x\", forceX).alphaTarget(0.6)\n            input[0].value = \"\"\n             \n          }\n        });\n\n\n        function generateLessGreaterText () {\n          d3.select(\"body\").append(\"text\")\n              .text(`You're better off than ${percentRank(Number(input[0].value))}% of the world`)\n              .attr(\"class\", \"lesser\")\n              console.log(percentRank(Number(input[0].value)))\n        }\n\n        function percentRank(n) {\n          var array = [] \n          datapoints.forEach (country => {\n            var formatted = ((country.Monthly.replace(\"$\", \"\"))) \n            formatted = Number((formatted.replace(\",\", \"\")))\n            array.push(formatted) \n          })\n         \n          var L = 0;\n          var S = 0;\n          var N = array.length\n      \n          for (var i = 0; i < array.length; i++) {\n              if (array[i] < n) {\n                  L += 1\n              } else if (array[i] === n) {\n                  S += 1\n              } else {\n      \n              }\n          }\n      \n          var pct = (L + (0.5 * S)) / N\n      \n          return Math.floor(pct * 100) \n      }\n\n  }\n\n})();\n\n\n\n\n\n\n\n\n\n\n\n"],"sourceRoot":""}